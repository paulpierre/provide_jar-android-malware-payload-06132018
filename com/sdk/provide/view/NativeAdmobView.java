package com.sdk.provide.view;

import android.app.Activity;
import android.content.Context;
import android.content.res.Resources;
import android.graphics.Color;
import android.graphics.drawable.Drawable;
import android.graphics.drawable.GradientDrawable;
import android.os.Build.VERSION;
import android.os.CountDownTimer;
import android.support.annotation.Nullable;
import android.util.AttributeSet;
import android.util.DisplayMetrics;
import android.view.View;
import android.view.View.OnClickListener;
import android.view.ViewGroup.LayoutParams;
import android.widget.LinearLayout;
import android.widget.LinearLayout.LayoutParams;
import android.widget.ProgressBar;
import android.widget.RelativeLayout;
import android.widget.RelativeLayout.LayoutParams;
import android.widget.TextView;
import com.google.android.gms.ads.AdSize;
import com.google.android.gms.ads.NativeExpressAdView;
import com.sdk.provide.utils.AdsAdmobUtils;
import com.sdk.provide.utils.AdsAdmobUtils.onAdmobListener;
import com.sdk.provide.utils.LogUtils;
import com.sdk.provide.utils.MethodUtils;

public class NativeAdmobView
  extends RelativeLayout
{
  private Activity activity;
  private NativeExpressAdView adView;
  private String app_id = "";
  private LinearLayout lnlAd;
  private OnCloseListener onCloseListener;
  private ProgressBar progressBar;
  private RelativeLayout rltMain;
  private float scale;
  private int time = 3000;
  private TextView tvClose;
  private String unit_id = "";
  
  public NativeAdmobView(Context paramContext, Activity paramActivity, int paramInt, String paramString1, String paramString2)
  {
    super(paramContext);
    setUp(paramActivity, paramInt, paramString1, paramString2);
    createView(paramContext);
  }
  
  public NativeAdmobView(Context paramContext, @Nullable AttributeSet paramAttributeSet)
  {
    super(paramContext, paramAttributeSet);
    createView(paramContext);
  }
  
  public NativeAdmobView(Context paramContext, @Nullable AttributeSet paramAttributeSet, int paramInt)
  {
    super(paramContext, paramAttributeSet, paramInt);
    createView(paramContext);
  }
  
  private void createView(Context paramContext)
  {
    this.rltMain = new RelativeLayout(paramContext);
    this.rltMain.setPadding(50, 0, 50, 0);
    this.rltMain.setBackgroundColor(Color.parseColor("#33000000"));
    addView(this.rltMain, new RelativeLayout.LayoutParams(-1, -1));
    this.progressBar = new ProgressBar(paramContext);
    Object localObject = new RelativeLayout.LayoutParams(-2, -2);
    ((RelativeLayout.LayoutParams)localObject).addRule(13);
    this.rltMain.addView(this.progressBar, (ViewGroup.LayoutParams)localObject);
    this.lnlAd = new LinearLayout(paramContext);
    this.lnlAd.setOrientation(1);
    this.rltMain.addView(this.lnlAd, (ViewGroup.LayoutParams)localObject);
    this.tvClose = new TextView(paramContext);
    this.tvClose.setVisibility(8);
    localObject = new GradientDrawable();
    ((GradientDrawable)localObject).setColor(-1);
    ((GradientDrawable)localObject).setShape(1);
    ((GradientDrawable)localObject).setSize(MethodUtils.dpToPx(paramContext, 30), MethodUtils.dpToPx(paramContext, 30));
    ((GradientDrawable)localObject).setStroke(MethodUtils.dpToPx(paramContext, 1), -7829368);
    if (Build.VERSION.SDK_INT >= 16) {
      this.tvClose.setBackground((Drawable)localObject);
    }
    for (;;)
    {
      this.tvClose.setTextColor(-7829368);
      this.tvClose.setTextSize(15.0F);
      this.tvClose.setGravity(17);
      localObject = new LinearLayout.LayoutParams(-2, -2);
      ((LinearLayout.LayoutParams)localObject).setMargins(MethodUtils.dpToPx(paramContext, 10), MethodUtils.dpToPx(paramContext, 10), MethodUtils.dpToPx(paramContext, 10), MethodUtils.dpToPx(paramContext, 10));
      this.tvClose.setEnabled(false);
      this.tvClose.setOnClickListener(new View.OnClickListener()
      {
        public void onClick(View paramAnonymousView)
        {
          NativeAdmobView.this.activity.finish();
        }
      });
      this.lnlAd.addView(this.tvClose, (ViewGroup.LayoutParams)localObject);
      this.adView = new NativeExpressAdView(paramContext);
      localObject = new LinearLayout.LayoutParams(-2, -2);
      this.lnlAd.addView(this.adView, (ViewGroup.LayoutParams)localObject);
      this.scale = getResources().getDisplayMetrics().density;
      localObject = new AdSize((int)((getResources().getDisplayMetrics().widthPixels - this.rltMain.getPaddingRight() - this.rltMain.getPaddingLeft()) / this.scale), 250);
      AdsAdmobUtils.nativeAdmob(paramContext, this.app_id, this.unit_id, this.adView, (AdSize)localObject, new AdsAdmobUtils.onAdmobListener()
      {
        public void onAdLoaded()
        {
          LogUtils.d("onAdLoaded");
          NativeAdmobView.this.tvClose.setVisibility(0);
          NativeAdmobView.this.progressBar.setVisibility(8);
          new CountDownTimer(NativeAdmobView.this.time + 2000, 1000L)
          {
            public void onFinish()
            {
              NativeAdmobView.this.tvClose.setText("X");
              NativeAdmobView.this.tvClose.setEnabled(true);
              if (NativeAdmobView.this.onCloseListener != null) {
                NativeAdmobView.this.onCloseListener.onClose();
              }
            }
            
            public void onTick(long paramAnonymous2Long)
            {
              NativeAdmobView.this.tvClose.setText((paramAnonymous2Long - 1000L) / 1000L + "");
            }
          }.start();
        }
        
        public void onError(int paramAnonymousInt)
        {
          LogUtils.d("onError: " + paramAnonymousInt);
          NativeAdmobView.this.progressBar.setVisibility(8);
          NativeAdmobView.this.activity.finish();
        }
      });
      return;
      this.tvClose.setBackgroundDrawable((Drawable)localObject);
    }
  }
  
  private void setUp(Activity paramActivity, int paramInt, String paramString1, String paramString2)
  {
    this.activity = paramActivity;
    this.time = paramInt;
    this.app_id = paramString1;
    this.unit_id = paramString2;
  }
  
  public void setOnCloseListener(OnCloseListener paramOnCloseListener)
  {
    this.onCloseListener = paramOnCloseListener;
  }
  
  public static abstract interface OnCloseListener
  {
    public abstract void onClose();
  }
}


/* Location:              /Users/paulpierre/Downloads/malware-unzip/poop.jar!/com/sdk/provide/view/NativeAdmobView.class
 * Java compiler version: 6 (50.0)
 * JD-Core Version:       0.7.1
 */