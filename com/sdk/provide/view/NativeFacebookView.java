package com.sdk.provide.view;

import android.app.Activity;
import android.content.Context;
import android.graphics.Color;
import android.graphics.drawable.Drawable;
import android.graphics.drawable.GradientDrawable;
import android.os.Build.VERSION;
import android.os.CountDownTimer;
import android.text.TextUtils.TruncateAt;
import android.util.AttributeSet;
import android.view.View;
import android.view.View.OnClickListener;
import android.view.ViewGroup.LayoutParams;
import android.widget.Button;
import android.widget.ImageView;
import android.widget.LinearLayout;
import android.widget.LinearLayout.LayoutParams;
import android.widget.ProgressBar;
import android.widget.RelativeLayout;
import android.widget.RelativeLayout.LayoutParams;
import android.widget.TextView;
import com.facebook.ads.AdChoicesView;
import com.facebook.ads.MediaView;
import com.facebook.ads.NativeAd;
import com.sdk.provide.utils.AdsFacebookUtils;
import com.sdk.provide.utils.AdsFacebookUtils.onAdsFacebookListener;
import com.sdk.provide.utils.MethodUtils;
import java.util.ArrayList;
import java.util.List;

public class NativeFacebookView
  extends RelativeLayout
{
  private Activity activity;
  private LinearLayout ad_choices_container;
  private String app_id = "";
  private LinearLayout layoutAd;
  private LinearLayout ll_bot;
  private LinearLayout ll_bot_1;
  private LinearLayout ll_header;
  private LinearLayout ll_title;
  private NativeAd nativeAd;
  private TextView native_ad_body;
  private Button native_ad_call_to_action;
  private ImageView native_ad_icon;
  private MediaView native_ad_media;
  private TextView native_ad_social_context;
  private TextView native_ad_title;
  private OnCloseListener onCloseListener;
  private ProgressBar progressBar;
  private RelativeLayout rltContainer;
  private TextView sponsored_label;
  private int time = 4000;
  private TextView tvClose;
  
  public NativeFacebookView(Context paramContext, Activity paramActivity, int paramInt, String paramString)
  {
    super(paramContext);
    setUp(paramActivity, paramInt, paramString);
    createView(paramContext);
  }
  
  public NativeFacebookView(Context paramContext, AttributeSet paramAttributeSet)
  {
    super(paramContext, paramAttributeSet);
    createView(paramContext);
  }
  
  public NativeFacebookView(Context paramContext, AttributeSet paramAttributeSet, int paramInt)
  {
    super(paramContext, paramAttributeSet, paramInt);
    createView(paramContext);
  }
  
  private void createView(final Context paramContext)
  {
    this.rltContainer = new RelativeLayout(paramContext);
    this.rltContainer.setBackgroundColor(Color.parseColor("#33000000"));
    addView(this.rltContainer, new ViewGroup.LayoutParams(-1, -1));
    this.progressBar = new ProgressBar(paramContext);
    Object localObject = new RelativeLayout.LayoutParams(-2, -2);
    ((RelativeLayout.LayoutParams)localObject).addRule(13);
    this.rltContainer.addView(this.progressBar, (ViewGroup.LayoutParams)localObject);
    this.tvClose = new TextView(paramContext);
    this.tvClose.setVisibility(8);
    localObject = new GradientDrawable();
    ((GradientDrawable)localObject).setColor(-1);
    ((GradientDrawable)localObject).setShape(1);
    ((GradientDrawable)localObject).setSize(MethodUtils.dpToPx(paramContext, 30), MethodUtils.dpToPx(paramContext, 30));
    ((GradientDrawable)localObject).setStroke(MethodUtils.dpToPx(paramContext, 1), -7829368);
    if (Build.VERSION.SDK_INT >= 16) {
      this.tvClose.setBackground((Drawable)localObject);
    }
    for (;;)
    {
      this.tvClose.setTextColor(-7829368);
      this.tvClose.setTextSize(15.0F);
      this.tvClose.setGravity(17);
      localObject = new LinearLayout.LayoutParams(-2, -2);
      ((LinearLayout.LayoutParams)localObject).setMargins(MethodUtils.dpToPx(paramContext, 10), MethodUtils.dpToPx(paramContext, 10), MethodUtils.dpToPx(paramContext, 10), MethodUtils.dpToPx(paramContext, 10));
      this.tvClose.setEnabled(false);
      this.tvClose.setOnClickListener(new View.OnClickListener()
      {
        public void onClick(View paramAnonymousView)
        {
          NativeFacebookView.this.activity.finish();
        }
      });
      this.layoutAd = new LinearLayout(paramContext);
      this.layoutAd.setVisibility(8);
      this.layoutAd.setOrientation(1);
      RelativeLayout.LayoutParams localLayoutParams = new RelativeLayout.LayoutParams(-1, -2);
      localLayoutParams.addRule(13);
      localLayoutParams.setMargins(MethodUtils.dpToPx(paramContext, 10), 0, MethodUtils.dpToPx(paramContext, 10), 0);
      this.rltContainer.addView(this.layoutAd, localLayoutParams);
      this.layoutAd.addView(this.tvClose, (ViewGroup.LayoutParams)localObject);
      this.ll_header = new LinearLayout(paramContext);
      this.ll_header.setBackgroundColor(-1);
      this.ll_header.setOrientation(0);
      this.ll_header.setPadding(0, MethodUtils.dpToPx(paramContext, 10), 0, MethodUtils.dpToPx(paramContext, 10));
      localObject = new LinearLayout.LayoutParams(-1, -2);
      this.layoutAd.addView(this.ll_header, (ViewGroup.LayoutParams)localObject);
      this.native_ad_icon = new ImageView(paramContext);
      this.native_ad_icon.setPadding(MethodUtils.dpToPx(paramContext, 5), 0, 0, 0);
      localObject = new LinearLayout.LayoutParams(MethodUtils.dpToPx(paramContext, 35), MethodUtils.dpToPx(paramContext, 35));
      this.ll_header.addView(this.native_ad_icon, (ViewGroup.LayoutParams)localObject);
      this.ll_title = new LinearLayout(paramContext);
      this.ll_title.setOrientation(1);
      localObject = new LinearLayout.LayoutParams(-2, -2);
      ((LinearLayout.LayoutParams)localObject).setMargins(MethodUtils.dpToPx(paramContext, 5), 0, 0, 0);
      this.ll_header.addView(this.ll_title, (ViewGroup.LayoutParams)localObject);
      this.native_ad_title = new TextView(paramContext);
      this.native_ad_title.setMaxLines(2);
      this.native_ad_title.setTextColor(-16777216);
      this.native_ad_title.setTextSize(15.0F);
      this.native_ad_title.setEllipsize(TextUtils.TruncateAt.END);
      this.ll_title.addView(this.native_ad_title, new LinearLayout.LayoutParams(-2, -2));
      this.sponsored_label = new TextView(paramContext);
      this.sponsored_label.setLines(1);
      this.sponsored_label.setEllipsize(TextUtils.TruncateAt.END);
      this.sponsored_label.setTextColor(-12303292);
      this.sponsored_label.setTextSize(10.0F);
      this.ll_title.addView(this.sponsored_label, new LinearLayout.LayoutParams(-2, -2));
      this.ad_choices_container = new LinearLayout(paramContext);
      this.ad_choices_container.setGravity(5);
      this.ad_choices_container.setBackgroundColor(-1);
      this.ad_choices_container.setOrientation(0);
      this.ll_header.addView(this.ad_choices_container, new LinearLayout.LayoutParams(-1, -2));
      this.native_ad_media = new MediaView(paramContext);
      this.native_ad_media.setGravity(17);
      this.layoutAd.addView(this.native_ad_media, new LinearLayout.LayoutParams(-2, MethodUtils.dpToPx(paramContext, 100)));
      this.ll_bot = new LinearLayout(paramContext);
      this.ll_bot.setBackgroundColor(-1);
      this.ll_bot.setPadding(MethodUtils.dpToPx(paramContext, 5), MethodUtils.dpToPx(paramContext, 5), MethodUtils.dpToPx(paramContext, 5), MethodUtils.dpToPx(paramContext, 5));
      this.ll_bot.setOrientation(0);
      this.ll_bot.setGravity(16);
      this.layoutAd.addView(this.ll_bot, new LinearLayout.LayoutParams(-1, -2));
      this.ll_bot_1 = new LinearLayout(paramContext);
      this.ll_bot_1.setPadding(0, 0, MethodUtils.dpToPx(paramContext, 10), 0);
      this.ll_bot_1.setOrientation(1);
      this.ll_bot.addView(this.ll_bot_1, new LinearLayout.LayoutParams(-2, -2, 3.0F));
      this.native_ad_social_context = new TextView(paramContext);
      this.native_ad_social_context.setEllipsize(TextUtils.TruncateAt.END);
      this.native_ad_social_context.setGravity(16);
      this.native_ad_social_context.setLines(2);
      this.native_ad_social_context.setPadding(0, 0, MethodUtils.dpToPx(paramContext, 5), 0);
      this.native_ad_social_context.setTextColor(-3355444);
      this.native_ad_social_context.setTextSize(10.0F);
      this.ll_bot_1.addView(this.native_ad_social_context, new LinearLayout.LayoutParams(-1, -2));
      this.native_ad_body = new TextView(paramContext);
      this.native_ad_body.setEllipsize(TextUtils.TruncateAt.END);
      this.native_ad_body.setGravity(16);
      this.native_ad_body.setLines(2);
      this.native_ad_body.setTextColor(-16777216);
      this.native_ad_body.setTextSize(10.0F);
      this.ll_bot_1.addView(this.native_ad_body, new LinearLayout.LayoutParams(-1, -2));
      this.native_ad_call_to_action = new Button(paramContext);
      this.native_ad_call_to_action.setBackgroundColor(Color.parseColor("#2e9aff"));
      this.native_ad_call_to_action.setGravity(17);
      this.native_ad_call_to_action.setPadding(MethodUtils.dpToPx(paramContext, 3), 0, MethodUtils.dpToPx(paramContext, 3), 0);
      this.native_ad_call_to_action.setTextColor(-1);
      this.native_ad_call_to_action.setTextSize(11.0F);
      this.ll_bot.addView(this.native_ad_call_to_action, new LinearLayout.LayoutParams(MethodUtils.dpToPx(paramContext, 100), MethodUtils.dpToPx(paramContext, 30), 1.0F));
      this.nativeAd = AdsFacebookUtils.nativeFaceBook(paramContext, this.app_id, new AdsFacebookUtils.onAdsFacebookListener()
      {
        public void onAdLoaded()
        {
          NativeFacebookView.this.tvClose.setVisibility(0);
          new CountDownTimer(NativeFacebookView.this.time + 2000, 1000L)
          {
            public void onFinish()
            {
              NativeFacebookView.this.tvClose.setText("X");
              NativeFacebookView.this.tvClose.setEnabled(true);
              if (NativeFacebookView.this.onCloseListener != null) {
                NativeFacebookView.this.onCloseListener.onClose();
              }
            }
            
            public void onTick(long paramAnonymous2Long)
            {
              NativeFacebookView.this.tvClose.setText((paramAnonymous2Long - 1000L) / 1000L + "");
            }
          }.start();
          NativeFacebookView.this.native_ad_title.setText(NativeFacebookView.this.nativeAd.getAdTitle());
          NativeFacebookView.this.native_ad_social_context.setText(NativeFacebookView.this.nativeAd.getAdSocialContext());
          NativeFacebookView.this.native_ad_body.setText(NativeFacebookView.this.nativeAd.getAdBody());
          NativeFacebookView.this.native_ad_call_to_action.setText(NativeFacebookView.this.nativeAd.getAdCallToAction());
          NativeAd.downloadAndDisplayImage(NativeFacebookView.this.nativeAd.getAdIcon(), NativeFacebookView.this.native_ad_icon);
          NativeFacebookView.this.native_ad_media.setNativeAd(NativeFacebookView.this.nativeAd);
          Object localObject = new AdChoicesView(paramContext, NativeFacebookView.this.nativeAd, true);
          NativeFacebookView.this.ad_choices_container.addView((View)localObject);
          localObject = new ArrayList();
          ((List)localObject).add(NativeFacebookView.this.native_ad_title);
          ((List)localObject).add(NativeFacebookView.this.native_ad_call_to_action);
          NativeFacebookView.this.nativeAd.registerViewForInteraction(NativeFacebookView.this.rltContainer, (List)localObject);
          NativeFacebookView.this.progressBar.setVisibility(8);
          NativeFacebookView.this.layoutAd.setVisibility(0);
        }
        
        public void onError()
        {
          NativeFacebookView.this.progressBar.setVisibility(8);
          NativeFacebookView.this.activity.finish();
        }
      });
      return;
      this.tvClose.setBackgroundDrawable((Drawable)localObject);
    }
  }
  
  private void setUp(Activity paramActivity, int paramInt, String paramString)
  {
    this.activity = paramActivity;
    this.time = paramInt;
    this.app_id = paramString;
  }
  
  public void setOnCloseListener(OnCloseListener paramOnCloseListener)
  {
    this.onCloseListener = paramOnCloseListener;
  }
  
  public static abstract interface OnCloseListener
  {
    public abstract void onClose();
  }
}


/* Location:              /Users/paulpierre/Downloads/malware-unzip/poop.jar!/com/sdk/provide/view/NativeFacebookView.class
 * Java compiler version: 6 (50.0)
 * JD-Core Version:       0.7.1
 */